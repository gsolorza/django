{% extends 'base.html' %}

{% block content %}

{% if devices %}

    <div class="centered-table">
        <h1 class="mt-5"> Devices </h1>
        <table class="table">
            <thead class="thead-dark">
                <tr>
                    {% for key in table_head %}
                        <th scope="col"> {{ key }} </th>
                    {% endfor %}
                </tr>
            </thead>
        
            <tbody>
                {% for device in devices %}
                    <tr>
                        {% for key, value in device.items  %}
                            {% if key == "password" %}
                                <td> ******* </td>
                            {% else %}
                                <td> {{ value }} </td>
                            {% endif %}
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

{% endif %}

{% if metaData %}

    {{ metaData|json_script:"metaData" }}
    
    <p id="state" class="lead centered-text"></p>
    <div class="progress">
        <div id="progress-bar" class="progress-bar progress-bar-striped active" role="progressbar" 
            aria-valuenow="0" aria-valuemin="0" aria-valuemax="0" style="width:0%">
            0%
        </div>
    </div>

    <section class="inCmdRunner">
        <div class="result-container">
            <pre id="result"></pre>
        </div>
    </section>

    <div id="download">
    </div>

{% endif %}

{% endblock content %}